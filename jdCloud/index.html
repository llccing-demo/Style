<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="./index.css">
    <!-- <script src="https://cdn.bootcss.com/jquery/3.3.1/core.js"></script> -->
    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js"></script>
</head>

<body>
    <div id="menu-wrapper">
        <div id="wrapper">
            <div class="logo">
                <a href="#" class="logo-img">京东云</a>
            </div>
            
            <div class="menu">
                <ul class="parent">
                    <li>
                        <a href="javascript:void(0)">产品</a>
                        <div class="water-full">
                            <ul>
                                <li>
                                    <h3>帮助中心</h3>
                                    <a href="javascript:void(0)">新手入门</a>
                                    <a href="javascript:void(0)">产品文档</a>
                                    <a href="javascript:void(0)">API与SDK</a>
                                    <a href="javascript:void(0)">技术社区</a>
                                </li>
                            </ul>
                        </div>
                    <li>
                        <a href="javascript:void(0)">解决方案</a>
                    <li>
                        <a href="javascript:void(0)">定价</a>
                    <li>
                        <a href="javascript:void(0)">云市场</a>
                    <li>
                        <a href="javascript:void(0)">京东万象</a>
                    <li>
                        <a href="javascript:void(0)">创新空间</a>
                    <li>
                        <a href="javascript:void(0)">合作与动态</a>
                        <div class="sub-menu">
                            <ul class="sub">
                                <li>
                                    <a href="javascript:void(0)">云主机</a>
                                <li>
                                    <a href="javascript:void(0)">原生容器</a>
                                <li>
                                    <a href="javascript:void(0)">kubernetes集群</a>
                                <li>
                                    <a href="javascript:void(0)">云硬盘</a>
                                <li>
                                    <a href="javascript:void(0)">高可用组</a>
                                <li>
                                    <a href="javascript:void(0)">弹性伸缩</a>
                                <li>
                                    <a href="javascript:void(0)">GPU服务器</a>
                            </ul>
                        </div>
                    <li>
                        <a href="javascript:void(0)">帮助与支持</a>
                        <div class="water-full">
                            <ul>
                                <li>
                                    <h3>帮助中心</h3>
                                    <a href="javascript:void(0)">新手入门</a>
                                    <a href="javascript:void(0)">产品文档</a>
                                    <a href="javascript:void(0)">API与SDK</a>
                                    <a href="javascript:void(0)">技术社区</a>
                                </li>
                                <li>
                                    <h3>服务支持</h3>
                                    <a href="javascript:void(0)">服务保障</a>
                                    <a href="javascript:void(0)">金牌服务</a>
                                    <!-- <a href="javascript:void(0)">自助服务</a>
                                    <a href="javascript:void(0)">联系我们</a> -->
                                </li>
                                <li>
                                    <h3>服务支持</h3>
                                    <a href="javascript:void(0)">服务保障</a>
                                    <a href="javascript:void(0)">金牌服务</a>
                                    <a href="javascript:void(0)">自助服务</a>
                                    <a href="javascript:void(0)">联系我们</a>
                                </li>
                                <li>
                                    <h3>服务支持</h3>
                                    <a href="javascript:void(0)">服务保障</a>
                                    <a href="javascript:void(0)">金牌服务</a>
                                </li>
                                <li>
                                    <h3>服务支持</h3>
                                    <a href="javascript:void(0)">服务保障</a>
                                    <a href="javascript:void(0)">金牌服务</a>
                                    <a href="javascript:void(0)">自助服务</a>
                                    <a href="javascript:void(0)">联系我们</a>
                                </li>
                                <li>
                                    <h3>服务支持</h3>
                                    <a href="javascript:void(0)">服务保障</a>
                                    <a href="javascript:void(0)">金牌服务</a>
                                    <a href="javascript:void(0)">自助服务</a>
                                    <a href="javascript:void(0)">联系我们</a>
                                </li>
                            </ul>
                        </div>
                </ul>
            </div>
            
            <div class="menu-right">
                <a class="menu-right-monitor" href="javascript:void(0)">控制台</a>
                <a class="menu-right-backup" href="javascript:void(0)">备案</a>
                <div class="user-info">
                    <a href="javascript:void(0)">
                        <img src="./defaultAvatar.png" alt="name">
                        <b>llccing</b>
                        <i class="down"></i>
                    </a>
                    <div class="menu-drop">
                        <div class="menu-drop-show">
                            <div class="count">余额</div>
                            <div class="money">
                                <span>0</span>
                                <a href="javascript:void(0)">充值</a>
                            </div>
                        </div>
                        <ul class="menu-drop-list">
                            <li>
                                <a href="javascript:void(0)">账号管理</a>
                            <li>
                                <a href="javascript:void(0)">
                                    <span>未读消息</span>
                                    <span class="no-read-count">13</span>
                                </a>
                            <li>
                                <a href="javascript:void(0)">费用管理</a>
                            <li>
                                <a href="javascript:void(0)">续费管理</a>
                        </ul>
                        <div class="menu-drop-footer">
                            <a href="javascript:void(0)">退出</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="mock"></div>
    </div>
</body>

<script>
    $('ul.parent').on('mouseenter', 'li', function () {
        $(this).children('.sub-menu').toggle()
        // $(this).children('.water-full').slideDown('fast')
        $(this).children('.water-full').show()

        // var height = $('.water-full').height()
        let element = $('.water-full')[0];
        if (element) {

            var height = window.getComputedStyle(element).height
            element.style.height = 'auto'
            var targetHeight = window.getComputedStyle(element).height;
            element.style.height = height
            element.offsetHeight;
            element.style.height = targetHeight;
            $('.mock').height(height)
            console.log(height)
            // $('.mock').css('height', 500 + 'px');
            // element.offsetHeight = element.offsetHeight;
            $('.mock').slideDown('fast')
        }

    }).on('mouseleave', 'li', function () {
        $(this).children('.sub-menu').toggle()
        $(this).children('.water-full').slideUp('fast')
        $('.mock').slideUp('fast')
    })
</script>

</html>